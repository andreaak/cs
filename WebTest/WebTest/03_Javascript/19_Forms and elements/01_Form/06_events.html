<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Работа с HTML формой</title>
    <script src="/03_Javascript/17_Events/03_IE_Events/002_CrossBrowserEventUtil.js"></script>
    <script>
        window.onload = function () {

            var textbox = document.forms[0].elements[0];
            EventUtil.addHandler(textbox, "focus", function (event) {
                event = EventUtil.getEvent(event);
                var target = EventUtil.getTarget(event);

                if (target.style.backgroundColor != "red") {
                    target.style.backgroundColor = "yellow";
                }
            });

            EventUtil.addHandler(textbox, "blur", function (event) {
                event = EventUtil.getEvent(event);
                var target = EventUtil.getTarget(event);

                if (/[^\d]/.test(target.value)) {
                    target.style.backgroundColor = "red";
                } else {
                    target.style.backgroundColor = "";
                }
            });

            EventUtil.addHandler(textbox, "change", function (event) {
                event = EventUtil.getEvent(event);

                var target = EventUtil.getTarget(event);
                if (/[^\d]/.test(target.value)) {
                    target.style.backgroundColor = "red";
                } else {
                    target.style.backgroundColor = "";
                }
            });
        }
    </script>
</head>
<body>
    <form method="post" id="myForm">
        <input type="text" autofocus>
    </form>
</body>
</html>
