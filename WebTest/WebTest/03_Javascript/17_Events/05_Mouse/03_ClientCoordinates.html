<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>События мыши</title>
    <script>

        window.onload = function() {
            var div = document.getElementById("myDiv");
            EventUtil.addHandler(div,
                "click",
                function(event) {
                    event = EventUtil.getEvent(event);
                    alert("Client coordinates: " + event.clientX + "," + event.clientY);
                });

            var div = document.getElementById("myDiv");
            EventUtil.addHandler(div,
                "click",
                function(event) {
                    event = EventUtil.getEvent(event);
                    alert("Page coordinates: " + event.pageX + "," + event.pageY);
                });

            var div = document.getElementById("myDiv");
            EventUtil.addHandler(div,
                "click",
                function(event) {
                    event = EventUtil.getEvent(event);
                    var pageX = event.pageX,
                        pageY = event.pageY;
                    if (pageX === undefined) {
                        pageX = event.clientX +
                        (document.body.scrollLeft ||
                            document.documentElement.scrollLeft);
                    }
                    if (pageY === undefined) {
                        pageY = event.clientY +
                        (document.body.scrollTop ||
                            document.documentElement.scrollTop);
                    }
                    alert("Page coordinates:" + pageX + "," + pageY);
                });

            var div = document.getElementById("myDiv");
            EventUtil.addHandler(div,
                "click",
                function(event) {
                    event = EventUtil.getEvent(event);
                    alert("Screen coordinates:" + event.screenX + "," + event.screenY);
                });

            var div = document.getElementById("myDiv");
            EventUtil.addHandler(div,
                "click",
                function(event) {
                    event = EventUtil.getEvent(event);
                    var keys = new Array();
                    if (event.shiftKey) {
                        keys.push("shift");
                    }
                    if (event.ctrlKey) {
                        keys.push("ctrl");
                    }
                    if (event.altKey) {
                        keys.push("alt");
                    }
                    if (event.metaKey) {
                        keys.push("meta");
                    }
                    alert("Keys: " + keys.join(","));
                });

            var EventUtil = {
                //другой код

                getRelatedTarget: function (event) {
                    if (event.relatedTarget) {
                        return event.relatedTarget;
                    } else if (event.toElement) {
                        return event.toElement;
                    } else if (event.fromElement) {
                        return event.fromElement;
                    } else {
                        return null;
                    }
                },

                //другой код
            };

            var div = document.getElementById("myDiv");
            EventUtil.addHandler(div, "mouseout", function (event) {
                event = EventUtil.getEvent(event);
                var target = EventUtil.getTarget(event);
                var relatedTarget = EventUtil.getRelatedTarget(event);
                alert("Moused out of " + target.tagName +
                        " to " + relatedTarget.tagName);
            });
        }

    </script>
    <style>
        div {
            border: 1px solid black;
            margin: 10px;
            padding: 10px;
            float: left;
            height:400px;
            width:400px;
        }
        #myDiv {
            background-color:red;
        }
    </style>
</head>
<body>
    <div id="myDiv"></div>
</body>
</html>
