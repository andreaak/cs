<!DOCTYPE html>
<html>
<head>
    <title>Event delegation</title>
    <script src="/03_Javascript/17_Events/03_IE_Events/002_CrossBrowserEventUtil.js"></script>
</head>
<body>
    <script>
        var textbox = document.getElementById("myTextbox");
        var event;

        //создание объекта event в стиле DOM Level 3
        if (document.implementation.hasFeature("KeyboardEvents", "З.0")) {
            event = document.createEvent("KeyboardEvent");
            //инициализация объекта event
            event.initKeyboardEvent("keydown", true, true, document.defaultView,
                "а", 0, "Shift", 0);
        }

        //генерирование события
        textbox.dispatchEvent(event);

        //только для Firefox
        var textbox = document.getElementById("myTextbox");

        //создание объекта event
        var event = document.createEvent("KeyEvents");

        //инициализация объекта event
        event.initKeyEvent("keydown", true, true, document.defaultView, false,
                            false, true, false, 65, 65);
        //генерирование события
        textbox.dispatchEvent(event);

        var textbox = document.getElementById("myTextbox");

        //создание объекта event
        var event = document.createEvent("Events");

        //инициализация объекта event
        event.initEvent(type, bubbles, cancelable);
        event.view = document.defaultView;
        event.altKey = false;
        event.ctrlKey = false;
        event.shiftKey = false;
        event.metaKey = false;
        event.keyCode = 65;
        event.charCode = 65;

        //генерирование события
        textbox.dispatchEvent(event);


    </script>
</body>
</html>
