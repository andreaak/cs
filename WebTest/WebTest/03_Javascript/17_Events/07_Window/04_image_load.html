<!--
    События окна:
    onload - происходит при окончании загрузки страницы
    onunload - происходит перед тем как объект будет выгружен (переход на другое окно или закрытие)
-->

<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>События клавиатуры</title>
    <script src="/03_Javascript/17_Events/03_IE_Events/002_CrossBrowserEventUtil.js"></script>
</head>
<body>
    <img id="myImage" src="/03_Javascript/Images/Basement.gif" />
    <script>

        var image = document.getElementById("myImage");
        EventUtil.addHandler(image, "load", function (event) {
            event = EventUtil.getEvent(event);
            alert(EventUtil.getTarget(event).src);
        });

        EventUtil.addHandler(window, "load", function () {
            var image = document.createElement("img");
            EventUtil.addHandler(image, "load", function (event) {
                event = EventUtil.getEvent(event);
                alert(EventUtil.getTarget(event).src);
            });
            document.body.appendChild(image);
            image.src = "/03_Javascript/Images/Desert.jpg";
        });

        EventUtil.addHandler(window, "load", function () {
            var image = new Image();
            EventUtil.addHandler(image, "load", function (event) {
                alert("Image loaded!");
            });
            image.src = "/03_Javascript/Images/Desert.jpg";
        });

    </script>
</body>
</html>
