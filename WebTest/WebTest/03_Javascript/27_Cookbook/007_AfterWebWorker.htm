<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Использование Web Workers</title>

    <script>
        window.onload = function () {
            document.getElementById("startButton").onclick = function () {
                // Создание нового потока
                var worker = new Worker("007_fibonachiWorker.js");

                // Создание обработчика для получения сообщений от потока
                worker.addEventListener("message", function (e) {
                    document.getElementById("output").innerHTML += e.data + "<br />";
                }, false);

                // запуск потока
                worker.postMessage("");
            }
        }

        //код страницы
        var data = [23, 4, 7, 9, 2, 14, 6, 651, 87, 41, 7798, 24],
        worker = new Worker("WebWorkerExample01.js");

        worker.onmessage = function (event) {
            var data = event.data;
            //какие-то действия с итоговым массивом
        };

        //отправка массива рабочему веб-потоку для сортировки
        worker.postMessage(data);

        //внутренний код рабочего веб-потока
        self.close();

        //внутренний код рабочего веб-потока
        importScripts("filel.js", "file2.js");

    </script>

</head>
<body>
    <button id="startButton">Start</button>
    <p id="output"></p>
</body>
</html>
