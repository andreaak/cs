<!--

    Если не создавать переменную явно через указание ключевого слова var и имени,
    то при обращении по имени к еще не существующей переменной,
    эта переменная будет создана автоматически как глобальная,
    даже если обращение будет происходить локально внутри функции.

-->

<html>
<head>
    <title>Отсутствие var</title>

    <script type="text/javascript">

        //var global = "Глобальная переменная";

        function f() {

            // Неявное создание глобальной переменной, через первое обращение на запись.
            global = "Глобальная переменная";
            document.write(global + "<br/>");//Глобальная переменная
        }

        // ОШИБКА: Обращение на чтение до создания переменной в теле функции - f().
        //document.write(global + "<br/>");

        f();

        // OK! Обращение на чтение после создания переменной в теле функции - f().
        document.write(global + "<br/>");//Глобальная переменная

        function add(num1, num2) {
            sum = num1 + num2;
            return sum;
        }

        var result = add(10, 20);//30
        document.write(sum + "<br/>");//30

        var person = new Object();

    </script>

</head>
<body>
</body>
</html>
