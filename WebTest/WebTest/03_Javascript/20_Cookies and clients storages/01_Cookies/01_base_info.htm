<!DOCTYPE html>

<html>
<head>
    <title>Сохранение cookie</title>
    <script src="CookieUtil.js"></script>
    <script type="text/javascript">

        // Что бы связать временное значение cookie файла с текущим документом. достаточно выполнить следующую операцию
        document.cookie = "name=Nicholas";

        // Значение Cookie не могут содержать точку с запятой, запятые или символы разделители. 
        // Перед сохранением значение в cookie желательно вызвать
        // функцию encodeURIComponent() при чтении значения надо вызвать decodeURIComponent()
        // записанный таким способом cookie сохраняются в текущем сеансе браузера но удаляются после его закрытия.
        document.cookie = encodeURIComponent("name") + "=" +
                            encodeURIComponent("Nicholas");

        document.cookie = encodeURIComponent("name") + "=" +
                            encodeURIComponent("Nicholas") +
                            "; domain=.wrox.com; path=/";

        document.cookie = "info=123";

        //Установка времени жизни для cookie
        function setCookie() {
            // следующий cookie будет хранится браузером на протяжении 1 недели (60 * 60 * 24 * 7).
            document.cookie = "info=123; max-age=604800";

            // Существует возможность указать время жизни cookie через устаревшее свойство expires
            var nextYear = new Date();
            nextYear.setFullYear(nextYear.getFullYear() + 1);
            document.cookie = "name=Ivan Ivanv; expires=" + nextYear.toGMTString();
        }

        function changeCookie() {
            document.cookie = "lang=JavaScript; max-age=120";
        }

        function deleteCookie() {
            document.cookie = "lang=JavaScript; max-age=0";
        }

        //задание сооkiе-файлов
        CookieUtil.set("name", "Nicholas");
        CookieUtil.set("book", "Professional JavaScript");

        //чтение значений
        alert(CookieUtil.get("name"));//"Nicholas"
        alert(CookieUtil.get("book"));//"Professional JavaScript"

        //удаление сооkiе-файлов
        CookieUtil.unset("name");
        CookieUtil.unset("book");

        //задание сооkiе-файла с путем, доменом и датой истечения срока действия
        CookieUtil.set("name", "Nicholas", "/books/projs/", "www.wrox.com",
        new Date("January 1, 2010"));

        //удаление того же сооkiе-файла
        CookieUtil.unset("name", "/books/projs/", "www.wrox.com");
        //задание защищенного сооkiе-файла
        CookieUtil.set("name", "Nicholas", null, null, null, true);

    </script>
</head>
<body>
</body>
</html>
