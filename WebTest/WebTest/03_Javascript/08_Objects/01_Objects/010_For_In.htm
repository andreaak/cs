<!--
    Циклическая конструкция for in, используется для перебора
    элементов массива или перебора свойств объекта.

    Принцип работы конструкции:
        for ( переменная_итерации in массив_или_обьект)
            { ...тело конструкции ...}

    Не гарантирует порядок вывода элементов
-->

<html>
<head>
    <title>Конструкция for in</title>

    <script type="text/javascript">

        var house = {
            roof: "Roof",
            secondFloor: "SecondFloor",
            firstFloor: "FirstFloor",
            basement: "Basement",
            address: "UK. London. Muswell Hill. N10"
        }

        // Перебор значений свойств в обьекте - house
        for (element in house) {
            document.write(house[element] + "<br/>");
        }
        /*
        Roof
        SecondFloor
        FirstFloor
        Basement
        UK. London. Muswell Hill. N10
        */
        document.write("<br/>");

        var test = {
            roof: "Roof",
            secondFloor: "SecondFloor",
            firstFloor: "FirstFloor",
            basement: "Basement"
        }
        ///
        for (element in test) {
            document.write("Key: ", element, " Value: ", test[element], "<br/>");
        }
        /*
        Key: roof Value: Roof
        Key: secondFloor Value: SecondFloor
        Key: firstFloor Value: FirstFloor
        Key: basement Value: Basement
        */
        document.write("<br/>");
        ///
        delete (test.secondFloor);
        ///
        document.write("Delete secondFloor<br/>");
        for (element in test) {
            document.write("Key: ", element, " Value: ", test[element], "<br/>");
        }
        /*
        Key: roof Value: Roof
        Key: firstFloor Value: FirstFloor
        Key: basement Value: Basement
        */
        document.write("<br/>");

        document.write("With own property<br/>");
        for (element in test) {
            if (test.hasOwnProperty(element)) {
                document.write("Key: ", element, " Value: ", test[element], "<br/>");
            }
        }
        document.write("<br/>");

        document.write("Use for<br/>");
        for (var i = 0; i < test.length; i++) {//test.length = undefined
            document.write(test[i], "<br/>");
        }
        document.write("<br/>");

        var test2 = {
            items: [
                { roof: "Roof" },
                { secondFloor: "SecondFloor" },
                { firstFloor: "FirstFloor" },
                { basement: "Basement" }
            ]
        }

        document.write("Гарантированный порядок вывода через массив<br/>");
        for (var i = 0; i < test2.items.length; i++) {
            var item = test2.items[i];
            for (element in item) {
                if (item.hasOwnProperty(element)) {
                    document.write("Key: ", element, " Value: ", item[element], "<br/>");
                }
            }
        }

        /*
        Гарантированный порядок вывода через массив
        Key: roof Value: Roof
        Key: secondFloor Value: SecondFloor
        Key: firstFloor Value: FirstFloor
        Key: basement Value: Basement
        */
    </script>

</head>
<body>
</body>
</html>
