<!DOCTYPE html>
<!--  
        Типы веб приложений
            Round-Trip Application
                Классические веб приложения. Браузер запрашивает первую HTML страницу с сервера. 
                Последующие действия пользователя приводят к загрузке полностью нового документа с сервера.
                Недостатки:
                    Ожидание загрузки нового документа
                    Сложно контролировать состояние приложения
                    Больший объем данных передается по сети
            Single-Page Application
                Браузер запрашивает первую HTML страницу, после чего общение с сервером происходит через AJAX запросы.
        
        AngularJS-JavaScript-фреймворк с открытым исходным кодом. 
        Предназначен для разработки одностраничных приложений (Single Page Application)
        AngularJS приложения строятся на основе шаблона Model-View-Controller (MVC)
        Фреймворк работает с HTML, содержащим дополнительные пользовательские атрибуты, 
        которые описываются директивами, и связывает ввод или вывод области страницы с моделью, 
        представляющей собой обычные переменные JavaScript. 
        Значения этих переменных задаются вручную или извлекаются из статических или динамических JSON-данных. 
        Приложения написанные с использованием AngularJS:
            •Легко расширяемые
            •Легко сопровождаемые
            •Поддаются тестированию
            •Поддерживает стандарты

        Модель (MVC)–содержит данные с которыми работает пользователь.
        Типы модели:
            view model –данные, которые передаются от контроллера к представлению.
            domain model–данные предметной области и операции, которые над ними выполняются.
        Модель должна:
            •Содержать данные предметной области
            •Содержать логику для создания, манипулирования и модификации данных (обращение к сервисам)
            •Предоставлять понятное API для доступа к данным и операциям
        Модель не должна:
            •Раскрывать способ хранения и манипуляции данных.
            •Содержать логику которая меняет данные на основе действий пользователя (это задача контроллера)
            •Содержать логику отображения данных (это задача представления)

        Контроллер (MVC)–логика приложения, соединяет представление и модель. 
        Содержит поведение (behaviors).
        Контроллер должен:
            •Содержать логику инициализирующую scope.
            •Содержать логику/behaviors необходимую представлению для отображения данных.
            •Содержать логику/behaviorsнеобходимую для обновления данных на основе действий пользователя
        Контроллер не должен:
            •Содержать логику, которая манипулирует DOM
            •Содержать логику, которая управляет сохранением данных (это задача модели)

        Представление (MVC) –это HTML страница с элементами, которые привязаны 
        к данным, а также сгенерированные HTML элементы отображающие пользователю 
        информацию.
        Представление должно:
            •Содержать логику и разметку для отображения данных пользователю
        Представление не должно:
            •Содержать сложную логику (ее лучше разместить в контроллере)
            •Содержать логику, которая манипулирует бизнес данными.
        Представления могут содержать логику, но она должна быть простая и минимально использоваться.    
    
-->
<!-- 
    Основные директивы
    ng-app–используется для первоначальной загрузки AngularJS приложения, 
        атрибут указывает, что html элемент содержит модуль, который необходимо компилировать и обрабатывать AngularJS
    ng-controller-определяет область разметки, за которую будет отвечать контроллер 
    {{ выражение }} –синтаксис для определения участков HTMLразметки, куда должны быть помещены данные
    ng-bind - директива выполняющая замену HTML содержимого элемента 
                на значение полученное через установленное выражение привязки
    ng-bind-template - директива, которая замещает содержимое элемента данными 
            полученными в результате выполнения выражения привязки, в отличии от ng-bind
             директива ng-bind-template может содержать несколько {{ }} выражений
    ng-non-bindable - указывает, что содержимое элемента не должно компилироваться 
            и в нем не должна происходить привязка данных
    ng-model–привязывает значения введенные в input, select, textarea к свойствам scope объекта
    ng-click–установка обработчика события click
    ng-repeat - директива указывает, что блок разметки должен быть повторен для каждого элемента в источнике данных.
        Выражение передаваемое в директиву (атрибут) - "<элемент> in <коллекция>"
        <tr ng-repeat="course in data.courses">
            <td>{{course.name}}</td>
            <td>{{course.passed}}</td>
        </tr>
    Для повторения серии элементов, а не только одного элемента используются специальные точки ng-repeat-start и ng-repeat-end
    ng-options - директива используется для динамической генерации элементов <option> для <select>.
        Во многих случаях для создания <option> можно использовать ng-repeate.
        ng-options предоставляет более эффективный способ создания элементов, который потребляет меньшее количество памяти и дает большую производительность
        
        item for item in items - значение_для_текста for элемент in коллекция
        использовать значение item как текст элемента при этом извлекать item из коллекции items

        item.prop1 for item in items track by item.prop2
        использовать свойство prop1 для текста элемента
        использовать свойство prop2 как значение value элемента option
        обработать все элементы, которые находятся в коллекции items
    ng-if выводит или удаляет порцию DOM дерева в зависимости от выражения
    ng-cloak - директива, которая предотвращает отображение шаблонов {{}} до того, как приложение будет полностью загружено.
         Директива может быть присвоена элементу body, но рекомендуется применять эту директиву несколько раз для небольших частей страницы.
    ng-include - директива для скачивания, компиляции и добавления фрагмента HTML в документ
            URL должен принадлежать тому же домену, с которого загружена данная страница.
            HTML фрагмент загружается с сервера с помощью AJAX запроса.
    ng-switch - директива используется для переключения структуры DOM на основе выражения. В отличии от ng-include данная
             директива не прозводит загрузку с сервера данных, а делает видимым один из элементов, который есть в DOM
-->

<html ng-app="helloWorldApp">
<head>
    <title>Hello World</title>
    <script src="/05_AngularJS/00_Libraries/angular.js"></script>
    <script>
        /*
        
        */
        // Модель
        var model = "Hello world";
        /*
        AngularJS приложение состоит из одного или нескольких модулей.
        Основной формой организации приложений в AngularJS являются модули. 
        Модуль представляет хранилище различной информации: директив, фильтров, контроллеров и т.д. 
        При этом одно приложение может иметь несколько модулей. 
        Например, разные модули могут представлять какую-либо специфическую функциональность. 
        angular.module это функция для создания и регистрации angular-модулей. 
        Все модули (из ядра Angular или сторонние), которые будут доступны в приложении должны быть зарегистрированы с использованием этого механизма. 
            первый параметр - имя модуля для создания или получения
            второй мараметр - Набор модулей, от которых будет зависить создаваемый модуль. Если параметр указан, то новый модуль будет создан.
        https://docs.angularjs.org/api/ng/function/angular.module
        */
        var helloWorldApp = angular.module("helloWorldApp", []);
        /*
        Контроллер является центральным звеном паттерна MVC, в том числе его реализации во фреймворке AngularJS. 
        Контроллер принимает ввод от пользователя, обрабатывает полученные данные, 
        а также может передавать обратно в представление некоторые данные через объект scope. 
        Существует два варианта создания контроллера с помощью модуля и без него: 
            function TodoCtrl ($scope) { } 
        и 
            angular.module ("sportsStore", []).controller ("sportsStoreCtrl", function ($scope) { }); 
 
        При создании контроллера его название должно содержать окончание Ctrl. 

        Контроллер
         В AngularJS переменные которые начинаются с символа $ являются встроенными элементами фрэймворка.
         $scope - используется для передачи данных в представление.
         .controller - метод создающий контроллер.
             первый параметр - имя контроллера (<Name>Ctrl соглашение по именованию контроллеров)
             второй параметр - функция контроллера 
        */
        helloWorldApp.controller("HelloWorldCtrl", function ($scope) {
            $scope.message = model;
        });

    </script>
</head>


<body ng-controller="HelloWorldCtrl">
    <h1>{{message}}</h1>
</body>
</html>
